{"mappings":"A,S,E,C,E,O,G,E,U,C,E,O,C,C,CGAO,MAAM,EAAU,oDCQV,EAAU,eAAgB,CAAG,EACxC,GAAI,CACF,IAAM,EAAW,MAAM,GACjB,EAAM,MAAM,QAAQ,IAAI,CAAC,CAAC,EAR3B,IAAI,QAAQ,CAAC,EAAG,IACrB,WAAW,IAAM,EAAO,AAAI,MAAM,mDAAuD,MAO1B,EACzD,EAAO,MAAM,EAAI,IAAI,GAE3B,GAAI,CAAC,EAAI,EAAE,CAAE,MAAM,AAAI,MAAM,CAAA,EAAG,EAAK,OAAO,CAAC,EAAE,EAAE,EAAI,MAAM,CAAC,CAAC,CAAC,EAE9D,OAAO,CACT,CAAE,MAAO,EAAK,CACZ,MAAM,CACR,CACF,EFjBa,EAAQ,CACnB,OAAQ,CAAC,EACT,OAAQ,CACN,MAAO,GACP,QAAS,EAAE,AACb,CACF,EAEa,EAAa,eAAgB,CAAE,EAC1C,GAAI,CAGF,GAAM,CAAA,OAAE,CAAM,CAAE,CAAG,AAFN,CAAA,MAAM,AAAA,EAAQ,CAAA,EAAG,EAAM,EAAI,EAAA,CAAI,CAAA,EAEpB,IAAI,AAC5B,CAAA,EAAM,MAAM,CAAG,CACb,GAAI,EAAO,EAAE,CACb,MAAO,EAAO,KAAK,CACnB,UAAW,EAAO,SAAS,CAC3B,UAAW,EAAO,UAAU,CAC5B,MAAO,EAAO,SAAS,CACvB,SAAU,EAAO,QAAQ,CACzB,SAAU,EAAO,YAAY,CAC7B,YAAa,EAAO,WAAW,AACjC,CACF,CAAE,MAAO,EAAK,CACZ,MAAM,CACR,CACF,EAEa,EAAoB,eAAgB,CAAK,EACpD,GAAI,CACF,EAAM,MAAM,CAAC,KAAK,CAAG,EACrB,IAAM,EAAO,MAAM,AAAA,EAAQ,CAAA,EAAG,EAAQ,QAAQ,EAAE,EAAA,CAAO,CAEvD,CAAA,EAAM,MAAM,CAAC,OAAO,CAAG,EAAK,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,AAAA,GAAQ,CAAA,CACnD,GAAI,EAAI,EAAE,CACV,MAAO,EAAI,KAAK,CAChB,UAAW,EAAI,SAAS,CACxB,MAAO,EAAI,SAAS,AACtB,CAAA,EACF,CAAE,MAAO,EAAK,CACZ,MAAM,CACR,CACF,E,I,E,C,EK7CA,EAAiB,YAAwB,OAAO,CAAC,QDElC,OAAA,EACb,KAAM,AAEN,CAAA,OAAO,CAAI,CAAE,CACX,GAAI,CAAC,GAAS,MAAM,OAAO,CAAC,IAAS,AAAgB,IAAhB,EAAK,MAAM,CAAS,OAAO,IAAI,CAAC,WAAW,EAEhF,CAAA,IAAI,CAAC,KAAK,CAAG,EACb,IAAM,EAAS,IAAI,CAAC,eAAe,GACnC,IAAI,CAAC,MAAM,GACX,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,aAAc,EACvD,CAEA,QAAS,CACP,IAAI,CAAC,cAAc,CAAC,SAAS,CAAG,EAClC,CAEA,eAAgB,CACd,IAAM,EAAS;A;A;AAGE,qBAAA,EAAE,EAAA,GAAM;A;AAEjB,YAAA,CAAC,CACT,IAAI,CAAC,MAAM,GACX,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,aAAc,EACvD,CAEA,YAAY,EAAU,IAAI,CAAC,aAAa,CAAE,CACxC,IAAM,EAAS;A;A;A;AAII,uBAAA,EAAE,EAAA,GAAM;A;A;AAGpB,WAAA,EAAE,EAAQ;AACT,YAAA,CAAC,CACT,IAAI,CAAC,MAAM,GACX,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,aAAc,EACvD,CAEA,cAAc,EAAU,IAAI,CAAC,QAAQ,CAAE,CACrC,IAAM,EAAS;A;A;A;AAII,uBAAA,EAAE,EAAA,GAAM;A;A;AAGpB,WAAA,EAAE,EAAQ;AACT,YAAA,CAAC,CACT,IAAI,CAAC,MAAM,GACX,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,aAAc,EACvD,CACF,CDtDA,MAAM,UAAmB,EACvB,eAAiB,SAAS,aAAa,CAAC,UAAW,AACnD,CAAA,cAAgB,wDAAyD,AACzE,CAAA,SAAW,iCAAkC,AAE7C,CAAA,iBAAiB,CAAO,CAAE,CACxB,CAAC,aAAc,OAAO,CAAC,OAAO,CAAC,AAAA,GAAM,OAAO,gBAAgB,CAAC,EAAI,GACnE,CAEA,iBAAkB,CAChB,MAAO;A;AAEO,kBAAA,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;A;AAE/C,gBAAA,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;A;A;A;AAIxB,WAAA,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;AACtB,YAAA,CAAC,AACX,CACF,CAEA,IAAA,EAAe,IAAI,CGzBnB,OAAM,EACF,UAAY,SAAS,aAAa,CAAC,UAAW,AAE9C,CAAA,UAAW,CACT,IAAM,EAAQ,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,kBAAkB,KAAK,CAElE,OADA,IAAI,CAAC,WAAW,GACT,CACT,CAEA,aAAc,CACZ,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,kBAAkB,KAAK,CAAG,EACzD,CAEA,iBAAiB,CAAO,CAAE,CACxB,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,SAAU,SAAU,CAAC,EACnD,EAAE,cAAc,GAChB,GACF,EACF,CACF,CAEA,IAAA,EAAe,IAAI,CClBrB,OAAM,UAAoB,EACxB,eAAiB,SAAS,aAAa,CAAC,WAAY,AACpD,CAAA,cAAgB,kCAAmC,AACnD,CAAA,SAAW,EAAG,AAEd,CAAA,iBAAkB,CAChB,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,GAC1D,CAEA,uBAAuB,CAAM,CAAE,CAC7B,MAAO;A;AAE6B,wCAAA,EAAE,EAAO,EAAE,CAAC;A;AAE9B,sBAAA,EAAE,EAAO,KAAK,CAAC,OAAO,EAAE,EAAO,KAAK,CAAC;A;A;AAGpB,uCAAA,EAAE,EAAO,KAAK,CAAC;AACZ,0CAAA,EAAE,EAAO,SAAS,CAAC;A;A;AAGlD,WAAA,CAAC,AACV,CACF,CAEA,IAAA,EAAe,IAAI,ERvBnB,MAAM,EAAiB,iBACrB,GAAI,CACF,IAAM,EAAK,OAAO,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GACtC,GAAI,CAAC,EAAI,OAET,AAAA,EAAW,aAAa,GAExB,MAAM,EAAiB,GAEvB,AAAA,EAAW,MAAM,CAAC,EAAY,MAAM,CACtC,CAAE,MAAO,EAAK,CACZ,AAAA,EAAW,WAAW,EACxB,CACF,EAEM,EAAuB,iBAC3B,GAAI,CACF,IAAM,EAAQ,AAAA,EAAW,QAAQ,GACjC,GAAI,CAAC,EAAO,OAEZ,AAAA,EAAY,aAAa,GAEzB,MAAM,EAAwB,GAE9B,AAAA,EAAY,MAAM,CAAC,EAAY,MAAM,CAAC,OAAO,CAC/C,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,0BAA2B,EAC3C,CACF,EAGE,AAAA,EAAW,gBAAgB,CAAC,GAC5B,AAAA,EAAW,gBAAgB,CAAC","sources":["<anon>","src/js/controller.js","src/js/model.js","src/js/config.js","src/js/helper.js","src/js/views/RecipeView.js","src/js/views/View.js","node_modules/@parcel/runtime-js/lib/runtime-3cc799ea6512c510.js","src/js/views/SearchView.js","src/js/views/ResultsView.js"],"sourcesContent":["\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nconst $ba30e20475feac5a$export$923ea8233b386e99 = 'https://forkify-api.herokuapp.com/api/v2/recipes/';\nconst $ba30e20475feac5a$export$196440f71ed9f601 = 5;\n\n\n\nconst $d3824bf2ef2465db$var$timeout = function(s) {\n    return new Promise((_, reject)=>setTimeout(()=>reject(new Error(`Request took too long! Timeout after ${s} seconds`)), s * 1000));\n};\nconst $d3824bf2ef2465db$export$d047a7c56db64af4 = async function(url) {\n    try {\n        const fetchPro = fetch(url);\n        const res = await Promise.race([\n            fetchPro,\n            $d3824bf2ef2465db$var$timeout((0, $ba30e20475feac5a$export$196440f71ed9f601))\n        ]);\n        const data = await res.json();\n        if (!res.ok) throw new Error(`${data.message} (${res.status})`);\n        return data;\n    } catch (err) {\n        throw err;\n    }\n};\n\n\nconst $0f1d4402dffacf5b$export$ca000e230c0caa3e = {\n    recipe: {},\n    search: {\n        query: '',\n        results: []\n    }\n};\nconst $0f1d4402dffacf5b$export$b96725c7a035d60b = async function(id) {\n    try {\n        const data = await (0, $d3824bf2ef2465db$export$d047a7c56db64af4)(`${(0, $ba30e20475feac5a$export$923ea8233b386e99)}${id}`);\n        const { recipe: recipe } = data.data;\n        $0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe = {\n            id: recipe.id,\n            title: recipe.title,\n            publisher: recipe.publisher,\n            sourceUrl: recipe.source_url,\n            image: recipe.image_url,\n            servings: recipe.servings,\n            cookTime: recipe.cooking_time,\n            ingredients: recipe.ingredients\n        };\n    } catch (err) {\n        throw err;\n    }\n};\nconst $0f1d4402dffacf5b$export$202b8e5cb363a0c4 = async function(query) {\n    try {\n        $0f1d4402dffacf5b$export$ca000e230c0caa3e.search.query = query;\n        const data = await (0, $d3824bf2ef2465db$export$d047a7c56db64af4)(`${(0, $ba30e20475feac5a$export$923ea8233b386e99)}?search=${query}`);\n        $0f1d4402dffacf5b$export$ca000e230c0caa3e.search.results = data.data.recipes.map((rec)=>({\n                id: rec.id,\n                title: rec.title,\n                publisher: rec.publisher,\n                image: rec.image_url\n            }));\n    } catch (err) {\n        throw err;\n    }\n};\n\n\nvar $1cd63cfe08530fad$exports = {};\n$1cd63cfe08530fad$exports = import.meta.resolve(\"eyyUD\");\n\n\nclass $3a07c34e115c11c9$export$2e2bcd8739ae039 {\n    _data;\n    render(data) {\n        if (!data || Array.isArray(data) && data.length === 0) return this.renderError();\n        this._data = data;\n        const markup = this._generateMarkup();\n        this._clear();\n        this._parentElement.insertAdjacentHTML('afterbegin', markup);\n    }\n    _clear() {\n        this._parentElement.innerHTML = '';\n    }\n    renderSpinner() {\n        const markup = `\n      <div class=\"spinner\">\n        <svg>\n          <use href=\"${(0, (/*@__PURE__*/$parcel$interopDefault($1cd63cfe08530fad$exports)))}#icon-loader\"></use>\n        </svg>\n      </div>`;\n        this._clear();\n        this._parentElement.insertAdjacentHTML('afterbegin', markup);\n    }\n    renderError(message = this._errorMessage) {\n        const markup = `\n      <div class=\"error\">\n        <div>\n          <svg>\n            <use href=\"${(0, (/*@__PURE__*/$parcel$interopDefault($1cd63cfe08530fad$exports)))}#icon-alert-triangle\"></use>\n          </svg>\n        </div>\n        <p>${message}</p>\n      </div>`;\n        this._clear();\n        this._parentElement.insertAdjacentHTML('afterbegin', markup);\n    }\n    renderMessage(message = this._message) {\n        const markup = `\n      <div class=\"message\">\n        <div>\n          <svg>\n            <use href=\"${(0, (/*@__PURE__*/$parcel$interopDefault($1cd63cfe08530fad$exports)))}#icon-smile\"></use>\n          </svg>\n        </div>\n        <p>${message}</p>\n      </div>`;\n        this._clear();\n        this._parentElement.insertAdjacentHTML('afterbegin', markup);\n    }\n}\n\n\nclass $e95330fac959b1b1$var$RecipeView extends (0, $3a07c34e115c11c9$export$2e2bcd8739ae039) {\n    _parentElement = document.querySelector('.recipe');\n    _errorMessage = 'We could not find that recipe. Please try another one!';\n    _message = 'Recipe was successfully loaded!';\n    addHandlerRender(handler) {\n        [\n            'hashchange',\n            'load'\n        ].forEach((ev)=>window.addEventListener(ev, handler));\n    }\n    _generateMarkup() {\n        return `\n      <figure class=\"recipe__fig\">\n        <img src=\"${this._data.image}\" alt=\"${this._data.title}\" class=\"recipe__img\" />\n        <h1 class=\"recipe__title\">\n          <span>${this._data.title}</span>\n        </h1>\n      </figure>\n      <div class=\"recipe__details\">\n        <p>${this._data.publisher}</p>\n      </div>`;\n    }\n}\nvar $e95330fac959b1b1$export$2e2bcd8739ae039 = new $e95330fac959b1b1$var$RecipeView();\n\n\nclass $4cb4e5e8d692772b$var$SearchView {\n    _parentEl = document.querySelector('.search');\n    getQuery() {\n        const query = this._parentEl.querySelector('.search__field').value;\n        this._clearInput();\n        return query;\n    }\n    _clearInput() {\n        this._parentEl.querySelector('.search__field').value = '';\n    }\n    addHandlerSearch(handler) {\n        this._parentEl.addEventListener('submit', function(e) {\n            e.preventDefault();\n            handler();\n        });\n    }\n}\nvar $4cb4e5e8d692772b$export$2e2bcd8739ae039 = new $4cb4e5e8d692772b$var$SearchView();\n\n\n\n\nclass $46392c2e8d6932d9$var$ResultsView extends (0, $3a07c34e115c11c9$export$2e2bcd8739ae039) {\n    _parentElement = document.querySelector('.results');\n    _errorMessage = 'No recipes found for your query!';\n    _message = '';\n    _generateMarkup() {\n        return this._data.map(this._generateMarkupPreview).join('');\n    }\n    _generateMarkupPreview(result) {\n        return `\n      <li class=\"preview\">\n        <a class=\"preview__link\" href=\"#${result.id}\">\n          <figure class=\"preview__fig\">\n            <img src=\"${result.image}\" alt=\"${result.title}\" />\n          </figure>\n          <div class=\"preview__data\">\n            <h4 class=\"preview__title\">${result.title}</h4>\n            <p class=\"preview__publisher\">${result.publisher}</p>\n          </div>\n        </a>\n      </li>`;\n    }\n}\nvar $46392c2e8d6932d9$export$2e2bcd8739ae039 = new $46392c2e8d6932d9$var$ResultsView();\n\n\nconst $f50bd1f2915ed0f2$var$controlRecipes = async function() {\n    try {\n        const id = window.location.hash.slice(1);\n        if (!id) return;\n        (0, $e95330fac959b1b1$export$2e2bcd8739ae039).renderSpinner();\n        await $0f1d4402dffacf5b$export$b96725c7a035d60b(id);\n        (0, $e95330fac959b1b1$export$2e2bcd8739ae039).render($0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe);\n    } catch (err) {\n        (0, $e95330fac959b1b1$export$2e2bcd8739ae039).renderError();\n    }\n};\nconst $f50bd1f2915ed0f2$var$controlSearchResults = async function() {\n    try {\n        const query = (0, $4cb4e5e8d692772b$export$2e2bcd8739ae039).getQuery();\n        if (!query) return;\n        (0, $46392c2e8d6932d9$export$2e2bcd8739ae039).renderSpinner();\n        await $0f1d4402dffacf5b$export$202b8e5cb363a0c4(query);\n        (0, $46392c2e8d6932d9$export$2e2bcd8739ae039).render($0f1d4402dffacf5b$export$ca000e230c0caa3e.search.results);\n    } catch (err) {\n        console.error(\"\\u274C Error en la b\\xfasqueda:\", err);\n    }\n};\nconst $f50bd1f2915ed0f2$var$init = function() {\n    (0, $e95330fac959b1b1$export$2e2bcd8739ae039).addHandlerRender($f50bd1f2915ed0f2$var$controlRecipes);\n    (0, $4cb4e5e8d692772b$export$2e2bcd8739ae039).addHandlerSearch($f50bd1f2915ed0f2$var$controlSearchResults);\n};\n$f50bd1f2915ed0f2$var$init(); // import '../sass/main.scss';\n // import icons from '../img/icons.svg'\n // const recipeContainer = document.querySelector('.recipe');\n // const timeout = function (s) {\n //   return new Promise(function (_, reject) {\n //     setTimeout(function () {\n //       reject(new Error(`Request took too long! Timeout after ${s} second`));\n //     }, s * 1000);\n //   });\n // };\n // async function showRecipe() {\n //   try {\n //       const id = window.location.hash.slice(1); // üîç Obtener el ID sin el #\n //       if (!id) return; // üö´ Si no hay ID, salir de la funci√≥n\n //       console.log(\"ID de la receta:\", id);\n //       renderSpinner(recipeContainer);\n //       const resp = await fetch(\"https://forkify-api.herokuapp.com/api/v2/recipes/5ed6604591c37cdc054bc886\");\n //       const data = await resp.json();\n //       console.log(\"Respuesta HTTP (resp):\", resp);\n //       console.log(\"Datos convertidos a JSON (data):\", data);\n //       let recipe = data.data.recipe;\n //       recipe = {\n //         id: recipe.id,\n //         title: recipe.title,\n //         publisher: recipe.publisher,\n //         sourceUrl: recipe.source_url,\n //         image: recipe.image_url,\n //         servings: recipe.servings,\n //         cookTime: recipe.cooking_time,\n //         ingredients: recipe.ingredients,\n //         }\n //       console.log(\"Receta extra√≠da:\", recipe);\n //       console.log(recipe.image, recipe.title, recipe.publisher)\n //   const markup=` <figure class=\"recipe__fig\">\n //       <img src=\"${recipe.image}\" alt=\"Tomato\" class=\"recipe__img\" />\n //       <h1 class=\"recipe__title\">\n //         <span>${recipe.title}</span>\n //       </h1>\n //       </figure>\n //       <div class=\"recipe__details\">\n //       <div class=\"recipe__info\">\n //         <svg class=\"recipe__info-icon\">\n //           <use href=\"${icons}#icon-clock\"></use>\n //         </svg>\n //         <span class=\"recipe__info-data recipe__info-data--minutes\">${recipe.cookTime}</span>\n //         <span class=\"recipe__info-text\">minutes</span>\n //       </div>\n //       <div class=\"recipe__info\">\n //         <svg class=\"recipe__info-icon\">\n //           <use href=\"${icons}#icon-users\"></use>\n //         </svg>\n //         <span class=\"recipe__info-data recipe__info-data--people\">${recipe.servings}</span>\n //         <span class=\"recipe__info-text\">servings</span>\n //         <div class=\"recipe__info-buttons\">\n //           <button class=\"btn--tiny btn--increase-servings\">\n //             <svg>\n //               <use href=\"${icons}#icon-minus-circle\"></use>\n //             </svg>\n //           </button>\n //           <button class=\"btn--tiny btn--increase-servings\">\n //             <svg>\n //               <use href=\"${icons}#icon-plus-circle\"></use>\n //             </svg>\n //           </button>\n //         </div>\n //       </div>\n //       <div class=\"recipe__user-generated\">\n //         <svg>\n //           <use href=\"${icons}#icon-user\"></use>\n //         </svg>\n //       </div>\n //       <button class=\"btn--round\">\n //         <svg class=\"\">\n //           <use href=\"${icons}#icon-bookmark-fill\"></use>\n //         </svg>\n //       </button>\n //       </div>\n //       <div class=\"recipe__ingredients\">\n //       <h2 class=\"heading--2\">Recipe ingredients</h2>\n //       <ul class=\"recipe__ingredient-list\">\n //         ${recipe.ingredients\n //           .map(ing => {\n //             return `\n //             <li class=\"recipe__ingredient\">\n //               <svg class=\"recipe__icon\">\n //                 <use href=\"${icons}#icon-check\"></use>\n //               </svg>\n //               <div class=\"recipe__quantity\">${ing.quantity ?? ''}</div>\n //               <div class=\"recipe__description\">\n //                 <span class=\"recipe__unit\">${ing.unit ?? ''}</span>\n //                 ${ing.description}\n //               </div>\n //             </li>\n //             `;\n //           })\n //           .join('')}\n //       </ul>\n //       </div>\n //       <div class=\"recipe__directions\">\n //       <h2 class=\"heading--2\">How to cook it</h2>\n //       <p class=\"recipe__directions-text\">\n //         This recipe was carefully designed and tested by\n //         <span class=\"recipe__publisher\">${recipe.publisher}</span>. Please check out\n //         directions at their website.\n //       </p>\n //       <a\n //         class=\"btn--small recipe__btn\"\n //         href=\"${recipe.sourceUrl}\"\n //         target=\"_blank\"\n //       >\n //         <span>Directions</span>\n //         <svg class=\"search__icon\">\n //           <use href=\"${icons}#icon-arrow-right\"></use>\n //         </svg>\n //       </a>\n //       </div>\n //       `\n //     recipeContainer.innerHTML=\"\";\n //     recipeContainer.insertAdjacentHTML('afterbegin',markup);\n //           console.log(icons)\n //   } catch (error) {\n //       alert(\"Error: \" + error.message);\n //   }\n // }\n // function renderSpinner(parentEl) {\n //   console.log(\"SpinerTime\");\n //   const markup = `\n //     <div class=\"spinner\">\n //       <svg>\n //         <use href=\"${icons}#icon-loader\"></use>\n //       </svg>\n //     </div>\n //   `;\n //   parentEl.innerHTML = \"\"; // Borra el contenido anterior\n //   parentEl.insertAdjacentHTML('afterbegin', markup);\n // }\n // // e. Invocar la funci√≥n\n // //showRecipe();\n // ['hashchange', 'load'].forEach(ev => window.addEventListener(ev, showRecipe));\n // // https://forkify-api.herokuapp.com/v2\n ///////////////////////////////////////\n\n\n//# sourceMappingURL=Forkify.47e60fd4.js.map\n","import * as model from './model.js';\nimport recipeView from './views/RecipeView.js';\nimport searchView from './views/SearchView.js';\nimport resultsView from './views/ResultsView.js';\n\nconst controlRecipes = async function () {\n  try {\n    const id = window.location.hash.slice(1);\n    if (!id) return;\n\n    recipeView.renderSpinner();\n\n    await model.loadRecipe(id);\n\n    recipeView.render(model.state.recipe);\n  } catch (err) {\n    recipeView.renderError();\n  }\n};\n\nconst controlSearchResults = async function () {\n  try {\n    const query = searchView.getQuery();\n    if (!query) return;\n\n    resultsView.renderSpinner();\n\n    await model.loadSearchResults(query);\n\n    resultsView.render(model.state.search.results);\n  } catch (err) {\n    console.error('‚ùå Error en la b√∫squeda:', err);\n  }\n};\n\nconst init = function () {\n  recipeView.addHandlerRender(controlRecipes);\n  searchView.addHandlerSearch(controlSearchResults);\n};\ninit();\n\n\n// import '../sass/main.scss';\n// import icons from '../img/icons.svg'\n\n// const recipeContainer = document.querySelector('.recipe');\n \n// const timeout = function (s) {\n//   return new Promise(function (_, reject) {\n//     setTimeout(function () {\n//       reject(new Error(`Request took too long! Timeout after ${s} second`));\n//     }, s * 1000);\n//   });\n// };\n\n// async function showRecipe() {\n//   try {\n\n//       const id = window.location.hash.slice(1); // üîç Obtener el ID sin el #\n//       if (!id) return; // üö´ Si no hay ID, salir de la funci√≥n\n//       console.log(\"ID de la receta:\", id);\n//       renderSpinner(recipeContainer);\n//       const resp = await fetch(\"https://forkify-api.herokuapp.com/api/v2/recipes/5ed6604591c37cdc054bc886\");\n\n      \n//       const data = await resp.json();\n\n     \n//       console.log(\"Respuesta HTTP (resp):\", resp);\n//       console.log(\"Datos convertidos a JSON (data):\", data);\n\n      \n//       let recipe = data.data.recipe;\n\n//       recipe = {\n//         id: recipe.id,\n//         title: recipe.title,\n//         publisher: recipe.publisher,\n//         sourceUrl: recipe.source_url,\n//         image: recipe.image_url,\n//         servings: recipe.servings,\n//         cookTime: recipe.cooking_time,\n//         ingredients: recipe.ingredients,\n//         }\n\n//       console.log(\"Receta extra√≠da:\", recipe);\n//       console.log(recipe.image, recipe.title, recipe.publisher)\n      \n//   const markup=` <figure class=\"recipe__fig\">\n//       <img src=\"${recipe.image}\" alt=\"Tomato\" class=\"recipe__img\" />\n//       <h1 class=\"recipe__title\">\n//         <span>${recipe.title}</span>\n//       </h1>\n//       </figure>\n\n//       <div class=\"recipe__details\">\n//       <div class=\"recipe__info\">\n//         <svg class=\"recipe__info-icon\">\n//           <use href=\"${icons}#icon-clock\"></use>\n//         </svg>\n//         <span class=\"recipe__info-data recipe__info-data--minutes\">${recipe.cookTime}</span>\n//         <span class=\"recipe__info-text\">minutes</span>\n//       </div>\n//       <div class=\"recipe__info\">\n//         <svg class=\"recipe__info-icon\">\n//           <use href=\"${icons}#icon-users\"></use>\n//         </svg>\n//         <span class=\"recipe__info-data recipe__info-data--people\">${recipe.servings}</span>\n//         <span class=\"recipe__info-text\">servings</span>\n\n//         <div class=\"recipe__info-buttons\">\n//           <button class=\"btn--tiny btn--increase-servings\">\n//             <svg>\n//               <use href=\"${icons}#icon-minus-circle\"></use>\n//             </svg>\n//           </button>\n//           <button class=\"btn--tiny btn--increase-servings\">\n//             <svg>\n//               <use href=\"${icons}#icon-plus-circle\"></use>\n//             </svg>\n//           </button>\n//         </div>\n//       </div>\n\n//       <div class=\"recipe__user-generated\">\n//         <svg>\n//           <use href=\"${icons}#icon-user\"></use>\n//         </svg>\n//       </div>\n//       <button class=\"btn--round\">\n//         <svg class=\"\">\n//           <use href=\"${icons}#icon-bookmark-fill\"></use>\n//         </svg>\n//       </button>\n//       </div>\n\n//       <div class=\"recipe__ingredients\">\n//       <h2 class=\"heading--2\">Recipe ingredients</h2>\n//       <ul class=\"recipe__ingredient-list\">\n//         ${recipe.ingredients\n//           .map(ing => {\n//             return `\n//             <li class=\"recipe__ingredient\">\n//               <svg class=\"recipe__icon\">\n//                 <use href=\"${icons}#icon-check\"></use>\n//               </svg>\n//               <div class=\"recipe__quantity\">${ing.quantity ?? ''}</div>\n//               <div class=\"recipe__description\">\n//                 <span class=\"recipe__unit\">${ing.unit ?? ''}</span>\n//                 ${ing.description}\n//               </div>\n//             </li>\n//             `;\n//           })\n//           .join('')}\n//       </ul>\n//       </div>\n\n//       <div class=\"recipe__directions\">\n//       <h2 class=\"heading--2\">How to cook it</h2>\n//       <p class=\"recipe__directions-text\">\n//         This recipe was carefully designed and tested by\n//         <span class=\"recipe__publisher\">${recipe.publisher}</span>. Please check out\n//         directions at their website.\n//       </p>\n//       <a\n//         class=\"btn--small recipe__btn\"\n//         href=\"${recipe.sourceUrl}\"\n//         target=\"_blank\"\n//       >\n//         <span>Directions</span>\n//         <svg class=\"search__icon\">\n//           <use href=\"${icons}#icon-arrow-right\"></use>\n//         </svg>\n//       </a>\n//       </div>\n//       `\n//     recipeContainer.innerHTML=\"\";\n    \n//     recipeContainer.insertAdjacentHTML('afterbegin',markup);\n//           console.log(icons)\n\n//   } catch (error) {\n     \n//       alert(\"Error: \" + error.message);\n//   }\n// }\n// function renderSpinner(parentEl) {\n//   console.log(\"SpinerTime\");\n//   const markup = `\n//     <div class=\"spinner\">\n//       <svg>\n//         <use href=\"${icons}#icon-loader\"></use>\n//       </svg>\n//     </div>\n//   `;\n\n//   parentEl.innerHTML = \"\"; // Borra el contenido anterior\n//   parentEl.insertAdjacentHTML('afterbegin', markup);\n// }\n// // e. Invocar la funci√≥n\n// //showRecipe();\n// ['hashchange', 'load'].forEach(ev => window.addEventListener(ev, showRecipe));\n// // https://forkify-api.herokuapp.com/v2\n\n///////////////////////////////////////\n","import { API_URL } from './config.js';\r\nimport { getJSON } from './helper.js';\r\n\r\nexport const state = {\r\n  recipe: {},\r\n  search: {\r\n    query: '',\r\n    results: [],\r\n  },\r\n};\r\n\r\nexport const loadRecipe = async function (id) {\r\n  try {\r\n    const data = await getJSON(`${API_URL}${id}`);\r\n\r\n    const { recipe } = data.data;\r\n    state.recipe = {\r\n      id: recipe.id,\r\n      title: recipe.title,\r\n      publisher: recipe.publisher,\r\n      sourceUrl: recipe.source_url,\r\n      image: recipe.image_url,\r\n      servings: recipe.servings,\r\n      cookTime: recipe.cooking_time,\r\n      ingredients: recipe.ingredients,\r\n    };\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const loadSearchResults = async function (query) {\r\n  try {\r\n    state.search.query = query;\r\n    const data = await getJSON(`${API_URL}?search=${query}`);\r\n\r\n    state.search.results = data.data.recipes.map(rec => ({\r\n      id: rec.id,\r\n      title: rec.title,\r\n      publisher: rec.publisher,\r\n      image: rec.image_url,\r\n    }));\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};","export const API_URL = 'https://forkify-api.herokuapp.com/api/v2/recipes/';\r\nexport const TIMEOUT_SEC = 5;","import { TIMEOUT_SEC } from './config.js';\r\n\r\nconst timeout = function (s) {\r\n  return new Promise((_, reject) =>\r\n    setTimeout(() => reject(new Error(`Request took too long! Timeout after ${s} seconds`)), s * 1000)\r\n  );\r\n};\r\n\r\nexport const getJSON = async function (url) {\r\n  try {\r\n    const fetchPro = fetch(url);\r\n    const res = await Promise.race([fetchPro, timeout(TIMEOUT_SEC)]);\r\n    const data = await res.json();\r\n\r\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\r\n\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};","import View from './View.js';\r\n\r\nclass RecipeView extends View {\r\n  _parentElement = document.querySelector('.recipe');\r\n  _errorMessage = 'We could not find that recipe. Please try another one!';\r\n  _message = 'Recipe was successfully loaded!';\r\n\r\n  addHandlerRender(handler) {\r\n    ['hashchange', 'load'].forEach(ev => window.addEventListener(ev, handler));\r\n  }\r\n\r\n  _generateMarkup() {\r\n    return `\r\n      <figure class=\"recipe__fig\">\r\n        <img src=\"${this._data.image}\" alt=\"${this._data.title}\" class=\"recipe__img\" />\r\n        <h1 class=\"recipe__title\">\r\n          <span>${this._data.title}</span>\r\n        </h1>\r\n      </figure>\r\n      <div class=\"recipe__details\">\r\n        <p>${this._data.publisher}</p>\r\n      </div>`;\r\n  }\r\n}\r\n\r\nexport default new RecipeView();","import icons from 'url:../../img/icons.svg';\r\n\r\nexport default class View {\r\n  _data;\r\n\r\n  render(data) {\r\n    if (!data || (Array.isArray(data) && data.length === 0)) return this.renderError();\r\n\r\n    this._data = data;\r\n    const markup = this._generateMarkup();\r\n    this._clear();\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  _clear() {\r\n    this._parentElement.innerHTML = '';\r\n  }\r\n\r\n  renderSpinner() {\r\n    const markup = `\r\n      <div class=\"spinner\">\r\n        <svg>\r\n          <use href=\"${icons}#icon-loader\"></use>\r\n        </svg>\r\n      </div>`;\r\n    this._clear();\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  renderError(message = this._errorMessage) {\r\n    const markup = `\r\n      <div class=\"error\">\r\n        <div>\r\n          <svg>\r\n            <use href=\"${icons}#icon-alert-triangle\"></use>\r\n          </svg>\r\n        </div>\r\n        <p>${message}</p>\r\n      </div>`;\r\n    this._clear();\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  renderMessage(message = this._message) {\r\n    const markup = `\r\n      <div class=\"message\">\r\n        <div>\r\n          <svg>\r\n            <use href=\"${icons}#icon-smile\"></use>\r\n          </svg>\r\n        </div>\r\n        <p>${message}</p>\r\n      </div>`;\r\n    this._clear();\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n}","module.exports = __parcel__import__.meta.resolve(\"eyyUD\");","class SearchView {\r\n    _parentEl = document.querySelector('.search');\r\n  \r\n    getQuery() {\r\n      const query = this._parentEl.querySelector('.search__field').value;\r\n      this._clearInput();\r\n      return query;\r\n    }\r\n  \r\n    _clearInput() {\r\n      this._parentEl.querySelector('.search__field').value = '';\r\n    }\r\n  \r\n    addHandlerSearch(handler) {\r\n      this._parentEl.addEventListener('submit', function (e) {\r\n        e.preventDefault();\r\n        handler();\r\n      });\r\n    }\r\n  }\r\n  \r\n  export default new SearchView();","import View from './View.js';\r\nimport icons from 'url:../../img/icons.svg';\r\n\r\nclass ResultsView extends View {\r\n  _parentElement = document.querySelector('.results');\r\n  _errorMessage = 'No recipes found for your query!';\r\n  _message = '';\r\n\r\n  _generateMarkup() {\r\n    return this._data.map(this._generateMarkupPreview).join('');\r\n  }\r\n\r\n  _generateMarkupPreview(result) {\r\n    return `\r\n      <li class=\"preview\">\r\n        <a class=\"preview__link\" href=\"#${result.id}\">\r\n          <figure class=\"preview__fig\">\r\n            <img src=\"${result.image}\" alt=\"${result.title}\" />\r\n          </figure>\r\n          <div class=\"preview__data\">\r\n            <h4 class=\"preview__title\">${result.title}</h4>\r\n            <p class=\"preview__publisher\">${result.publisher}</p>\r\n          </div>\r\n        </a>\r\n      </li>`;\r\n  }\r\n}\r\n\r\nexport default new ResultsView();"],"names":["$parcel$interopDefault","a","__esModule","default","$ba30e20475feac5a$export$923ea8233b386e99","$d3824bf2ef2465db$export$d047a7c56db64af4","url","fetchPro","fetch","res","Promise","race","_","reject","setTimeout","Error","s","data","json","ok","message","status","err","$0f1d4402dffacf5b$export$ca000e230c0caa3e","recipe","search","query","results","$0f1d4402dffacf5b$export$b96725c7a035d60b","id","title","publisher","sourceUrl","source_url","image","image_url","servings","cookTime","cooking_time","ingredients","$0f1d4402dffacf5b$export$202b8e5cb363a0c4","recipes","map","rec","$1cd63cfe08530fad$exports","resolve","$3a07c34e115c11c9$export$2e2bcd8739ae039","_data","render","Array","isArray","length","renderError","markup","_generateMarkup","_clear","_parentElement","insertAdjacentHTML","innerHTML","renderSpinner","_errorMessage","renderMessage","_message","$e95330fac959b1b1$var$RecipeView","document","querySelector","addHandlerRender","handler","forEach","ev","window","addEventListener","$e95330fac959b1b1$export$2e2bcd8739ae039","$4cb4e5e8d692772b$var$SearchView","_parentEl","getQuery","value","_clearInput","addHandlerSearch","e","preventDefault","$4cb4e5e8d692772b$export$2e2bcd8739ae039","$46392c2e8d6932d9$var$ResultsView","_generateMarkupPreview","join","result","$46392c2e8d6932d9$export$2e2bcd8739ae039","$f50bd1f2915ed0f2$var$controlRecipes","location","hash","slice","$f50bd1f2915ed0f2$var$controlSearchResults","console","error"],"version":3,"file":"Forkify.47e60fd4.js.map"}